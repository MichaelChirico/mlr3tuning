---
title: "Introduction to Tuner"
author: "Daniel Schalk"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to Tuner}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
library(mlr3tuning)
knitr::opts_knit$set(
  datatable.print.keys = FALSE,
  datatable.print.class = TRUE
)
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
set.seed(123)
```

`mlr3tuning` is an extension of `mlr3` that includes tuning.

## Basis of Tuning 

As mentioned in the `tuning-01-fitness-function` vignette, we have to initialize a `FitnessFunction` object to define the hyperparameter space as well as the evaluation technique that is used to estimate the generalization error:

```{r}
task = mlr3::mlr_tasks$get("iris")
learner = mlr3::mlr_learners$get("classif.rpart")
resampling = mlr3::mlr_resamplings$get("holdout")
measures = mlr3::mlr_measures$mget("mmce")
param_set = paradox::ParamSet$new(params = list(paradox::ParamDbl$new("cp", lower = 0.001, upper = 0.1)))

ff = FitnessFunction$new(task, learner, resampling, measures, param_set)
```

## Define a Terminator

## Evaluations

```{r}
terminator_eval = TerminatorEvaluations$new(5)
```

## Iterations

```{r}
terminator_eval = TerminatorEvaluations$new(5)
```

## Basic Search Strategies

Available search strategies:

-   Grid Search
-   Random Search

```{r}
rs = TunerRandomSearch$new(ff, terminator_eval)
rs$tune()
```

```{r}
rs$tune_result()
```
